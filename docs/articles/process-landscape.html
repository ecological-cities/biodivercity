<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="biodivercity">
<title>Process Landscape Data • biodivercity</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Process Landscape Data">
<meta property="og:description" content="biodivercity">
<meta property="og:image" content="https://ecological-cities.github.io/biodivercity/reference/figures/logo.png">
<meta property="og:image:alt" content="Biodiversity Indices for City Landscapes">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">biodivercity</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Unreleased version">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-2">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../articles/biodivercity.html">Get started</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/process-landscape.html">1. Process landscape data</a>
    <a class="dropdown-item" href="../articles/process-animal.html">2. Process animal data</a>
    <h6 class="dropdown-header" data-toc-skip>3. Build models</h6>
    <a class="dropdown-item" href="../articles/apply-models.html">4. Apply models</a>
    <a class="dropdown-item" href="../articles/test-models.html">5. Test models</a>
    <h6 class="dropdown-header" data-toc-skip>6. Scoring and benchmarking</h6>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-more-details">More details</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-more-details">
    <a class="dropdown-item" href="../articles/more/animals-survey-protocols.html">Animals - Survey Protocols</a>
    <a class="dropdown-item" href="../articles/more/animals-data-summaries.html">Animals - Data summaries</a>
    <a class="dropdown-item" href="../articles/more/animals-species-analyses.html">Animals - Species-level analyses</a>
    <a class="dropdown-item" href="../articles/more/animals-simulate-missing-surveys.html">Animals - Simulate missing surveys</a>
    <h6 class="dropdown-header" data-toc-skip>Landscapes - Land cover patterns</h6>
    <h6 class="dropdown-header" data-toc-skip>Landscapes - Urban density</h6>
    <h6 class="dropdown-header" data-toc-skip>Landscapes - Monitoring vs. Planning</h6>
    <h6 class="dropdown-header" data-toc-skip>Models - Local diversity</h6>
    <h6 class="dropdown-header" data-toc-skip>Models - Community diversity</h6>
    <h6 class="dropdown-header" data-toc-skip>Models - Future updates</h6>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Functions</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://xp-song.github.io/project/birt/">About</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ecological-cities/biodivercity/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">
<script src="process-landscape_files/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="process-landscape_files/jquery-1.12.4/jquery.min.js"></script><link href="process-landscape_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="process-landscape_files/leaflet-1.3.1/leaflet.js"></script><link href="process-landscape_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="process-landscape_files/proj4-2.6.2/proj4.min.js"></script><script src="process-landscape_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="process-landscape_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="process-landscape_files/leaflet-binding-2.0.4.1/leaflet.js"></script><script src="process-landscape_files/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script><script src="process-landscape_files/leaflet-providers-plugin-2.0.4.1/leaflet-providers-plugin.js"></script><div class="row">
  <main id="main"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Process Landscape Data</h1>
            <h3 data-toc-skip class="subtitle">Download and process satellite and OpenStreetMap data</h3>
                        <h4 data-toc-skip class="author">Edwin Tan</h4>
            
            <h4 data-toc-skip class="date">2022-02-18</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ecological-cities/biodivercity/blob/HEAD/vignettes/process-landscape.Rmd" class="external-link"><code>vignettes/process-landscape.Rmd</code></a></small>
      <div class="d-none name"><code>process-landscape.Rmd</code></div>
    </div>

    
    
<p>This article details several methods used to retrieve open access landscape data to build predictive models of animal diversity. Here, landscape data refers to data derived from both freely-available satellite imagery and open-source maps that are processed and summarised across a range of dates and spatial areas. The following outline covers the processes of downloading, processing and summarising the landscape data to complement animal observation data in later articles.</p>
<p>First, load the necessary packages to run the analysis:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/ecological-cities/biodivercity" class="external-link">"biodivercity"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://r-spatial.github.io/sf/" class="external-link">"sf"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></code></pre></div>
<p><br></p>
<div class="section level2">
<h2 id="download-open-source-landscape-data">Download open-source landscape data<a class="anchor" aria-label="anchor" href="#download-open-source-landscape-data"></a>
</h2>
<div class="section level3">
<h3 id="openstreetmap">OpenStreetMap<a class="anchor" aria-label="anchor" href="#openstreetmap"></a>
</h3>
<p>Urban landscape elements can be retrieved from the freely-available OpenStreetMap (OSM) database. Building polygons and road lines are extracted from a set geographical boundary with the functions <code>get_buildings_osm</code> and <code>get_roads_osm</code>. To better organise the raw data and processed outputs that will be created in this article, it will be useful to define an output directory for the following analyses.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">output_dir</span> <span class="op">&lt;-</span> <span class="st">"/insert/output/directory"</span></code></pre></div>
<p>In the following example, a single <code>polygon</code> feature from an example dataset is provided to the <code>get_buildings_osm</code> and <code>get_roads_osm</code> functions to serve as the spatial boundary. This informs the functions of the area from which the building <code>polygon</code> and road <code>line</code> feature data would be retrieved. A date range must also be provided for the function to successfully query the online OSM database, and will be useful for retrieving data from previous years.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sampling_areas</span><span class="op">)</span>

<span class="va">sampling_areas</span> <span class="op">&lt;-</span> <span class="va">sampling_areas</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">area</span> <span class="op">==</span> <span class="st">"PG"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
   <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_zm.html" class="external-link">st_zm</a></span><span class="op">(</span>what <span class="op">=</span> <span class="st">"ZM"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
   <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
   <span class="fu"><a href="https://r-spatial.github.io/sf/reference/valid.html" class="external-link">st_make_valid</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">osm_date</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-01"</span>, <span class="st">"2021-06-30"</span><span class="op">)</span><span class="op">)</span>

<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">osm_dates</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
<span class="va">buildings</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_buildings_osm.html">get_buildings_osm</a></span><span class="op">(</span>place <span class="op">=</span> <span class="va">sampling_areas</span>,
                               date <span class="op">=</span> <span class="va">osm_date</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,
                               dir_raw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"/osm"</span><span class="op">)</span>,
                               filename <span class="op">=</span> <span class="st">"osm_buildings.geojson"</span><span class="op">)</span>

<span class="va">roads</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_roads_osm.html">get_roads_osm</a></span><span class="op">(</span><span class="va">osm_boundaries</span>,
                       date <span class="op">=</span> <span class="va">osm_date</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>,
                       dir_raw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"/osm"</span><span class="op">)</span>,
                       filename <span class="op">=</span> <span class="st">"osm_roads.geojson"</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<hr>
</div>
<div class="section level3">
<h3 id="sentinel-2-satellite-images">Sentinel-2 satellite images<a class="anchor" aria-label="anchor" href="#sentinel-2-satellite-images"></a>
</h3>
<p>Landscape information is retrieved from the publicly available Sentinel-2 database using the <code>sen2r</code> package. As this is an external package unrelated to <code>biodivercity</code>, please also refer to the official repository for updated instructions on <a href="http://sen2r.ranghetti.info/articles/installation.html" class="external-link">installation and use</a>. The package version used to generate this article is <code>sen2r_1.5.0</code>.</p>
<p>To download Sentinel-2 images of a specific area and range of dates, the spatio-temporal selections have to defined accordingly with the <code><a href="https://sen2r.ranghetti.info/reference/sen2r.html" class="external-link">sen2r()</a></code> function. This can be performed with a GUI provided by the <code>sen2r</code> package when running the <code><a href="https://sen2r.ranghetti.info/reference/sen2r.html" class="external-link">sen2r()</a></code> function with no arguments.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://sen2r.ranghetti.info" class="external-link">sen2r</a></span><span class="op">)</span>

<span class="fu"><a href="https://sen2r.ranghetti.info/reference/sen2r.html" class="external-link">sen2r</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure">
<img src="sen2r-gui.png" alt=""><p class="caption"><strong>Figure</strong>: A screenshot of the <code>sen2r</code> graphical user interface (GUI) accessible by running <code><a href="https://sen2r.ranghetti.info/reference/sen2r.html" class="external-link">sen2r()</a></code>.</p>
</div>
<p>Alternatively, the same parameters can be customised with arguments when running <code><a href="https://sen2r.ranghetti.info/reference/sen2r.html" class="external-link">sen2r()</a></code>, allowing for the use of objects defined in the local R environment. A parameter list can also be loaded from a JSON file that was saved with previous processing parameters.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sen2r_params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"sen2r-parameters.json"</span>, package<span class="op">=</span><span class="st">"biodivercity"</span><span class="op">)</span>
<span class="va">sen2r_dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2021-01-01"</span>, <span class="st">"2021-06-30"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">out_paths</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://sen2r.ranghetti.info/reference/sen2r.html" class="external-link">sen2r</a></span><span class="op">(</span>
  param_list <span class="op">=</span> <span class="va">sen2r_params</span>,
  timewindow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">sen2r_dates</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">sen2r_dates</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span>,
  path_l2a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"/sen2r/raw"</span><span class="op">)</span>, 
  path_l1c <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"/sen2r/raw"</span><span class="op">)</span>,
  path_out <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"/sen2r"</span><span class="op">)</span>,
  path_indices <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"/sen2r"</span><span class="op">)</span>,
  extent_as_mask <span class="op">=</span> <span class="cn">TRUE</span>,
  list_rgb <span class="op">=</span> <span class="st">"RGB432B"</span> <span class="co"># output RGB image</span>
  <span class="co"># max_mask = 15,</span>
  <span class="co"># list_indices = c("NDVI", "ARI")</span>
  <span class="op">)</span></code></pre></div>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="mosaic-and-summarise">Mosaic and summarise<a class="anchor" aria-label="anchor" href="#mosaic-and-summarise"></a>
</h2>
<p>Raster files downloaded across multiple dates can be combined to create mosaics to account for cloud cover. Using the <code><a href="../reference/mosaic_sen2r.html">mosaic_sen2r()</a></code> function, this can be easily done with the file directory created by <code><a href="https://sen2r.ranghetti.info/reference/sen2r.html" class="external-link">sen2r()</a></code>, as specified in the <code>path_out</code> argument.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/mosaic_sen2r.html">mosaic_sen2r</a></span><span class="op">(</span>parent_dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">output_dir</span>, <span class="st">"/sen2r"</span><span class="op">)</span>,
              exclude <span class="op">=</span> <span class="cn">NULL</span>,
              rm_outlier <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>Downloaded rasters and the resulting mosaics contain raw information for specified indices. To account for noise and classify pixel values, Otsu’s thresholding (see <code><a href="../reference/threshold_otsu.html">threshold_otsu()</a></code>) can be used to define threshold values, where values above the threshold are regarded as a presence of the landscape type measured by an index. Here, we are classifying values above the threshold as “Present” with the value of <code>1</code> and values below the threshold as “Absent” with <code>0</code>.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ndvi_mosaic</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"ndvi_mosaic.tif"</span>, package<span class="op">=</span><span class="st">"biodivercity"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/rast.html" class="external-link">rast</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">veg_classified</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/classify_image_binary.html">classify_image_binary</a></span><span class="op">(</span>image <span class="op">=</span> <span class="va">ndvi_mosaic</span>,
                      threshold <span class="op">=</span> <span class="st">"otsu"</span><span class="op">)</span></code></pre></div>
<p>To visualise the raster, several packages such as <code>ggplot2</code>, <code>tmap</code>, and <code>raster</code> can be used. Here, <code>tmap</code> is used to briefly examine the raster after classification.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/mtennekes/tmap" class="external-link">"tmap"</a></span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tmap_mode.html" class="external-link">tmap_mode</a></span><span class="op">(</span><span class="st">"view"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_shape.html" class="external-link">tm_shape</a></span><span class="op">(</span><span class="va">veg_classified</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/tmap/man/tm_raster.html" class="external-link">tm_raster</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"veg_classified"</span>,
            style <span class="op">=</span> <span class="st">"cat"</span>,
            palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"grey"</span>, <span class="st">"darkgreen"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div id="htmlwidget-b9031ac5874a07dcb87b" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-b9031ac5874a07dcb87b">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"createMapPane","args":["tmap401",401]},{"method":"addProviderTiles","args":["Esri.WorldGrayCanvas",null,"Esri.WorldGrayCanvas",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["OpenStreetMap",null,"OpenStreetMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addProviderTiles","args":["Esri.WorldTopoMap",null,"Esri.WorldTopoMap",{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"pane":"tilePane"}]},{"method":"addRasterImage","args":["data:image/png;base64,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",[[1.42153345161741,103.886811293215],[1.38583286893289,103.931179877581]],1,null,"tmap401","veg_classified"]},{"method":"addLegend","args":[{"colors":["#BEBEBE","#006400"],"labels":["0","1"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"unknown","title":"veg_classified","extra":null,"layerId":"legend401","className":"info legend veg_classified","group":"veg_classified"}]},{"method":"addLayersControl","args":[["Esri.WorldGrayCanvas","OpenStreetMap","Esri.WorldTopoMap"],"veg_classified",{"collapsed":true,"autoZIndex":true,"position":"topleft"}]}],"limits":{"lat":[1.38583286893289,1.42153345161741],"lng":[103.886811293215,103.931179877581]},"fitBounds":[1.38587295445134,103.886811293215,1.42153345161742,103.93113760194,[]]},"evals":[],"jsHooks":[]}</script><p>With the classified mosaics, landscape metrics can then be extracted at the defined buffer distances around fauna sampling points. The sample dataset <code>data(sampling_points)</code> can be loaded for survey points at which landscape metrics from the classified mosaic <code>veg_classified</code> will be summarised to. In this example, <code>sampling_points</code> is subset to match the same spatial area of the mosaic.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sampling_points</span><span class="op">)</span>
<span class="va">sampling_points</span> <span class="op">&lt;-</span> <span class="va">sampling_points</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">area</span> <span class="op">==</span> <span class="st">"PG"</span><span class="op">)</span></code></pre></div>
<p>Next, several arguments have to be defined for the <code><a href="../reference/lsm_perpoint.html">lsm_perpoint()</a></code> function and more information on the input formats can be found on the function page. For example, <code>buffer_sizes</code> refer to the buffer radius values (in meters) around the sampling point where the raster data is summarised from.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">veg_landscape_metrics</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_perpoint.html">lsm_perpoint</a></span><span class="op">(</span>raster <span class="op">=</span> <span class="va">veg_classified</span>,
                                      points <span class="op">=</span> <span class="va">sampling_points</span>,
                                      buffer_sizes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span>,
                                      class_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"veg"</span><span class="op">)</span>,
                                      class_values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,
                                      landscape_name <span class="op">=</span> <span class="st">"veg"</span>,
                                      level <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"class"</span><span class="op">)</span><span class="op">)</span> </code></pre></div>
<p>Alternatively, certain desired landscape metrics can be specified for calculation via the <code><a href="../reference/lsm_perpoint_specified.html">lsm_perpoint_specified()</a></code> function instead of summarising the full suite of metrics. For example, to calculate the <code>pland</code> metric for the classified vegetation mosaic at multiple buffer distances (50m, 100m), the metrics must first be defined:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">predictors_lsm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span>

<span class="va">raster_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">raster_list</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">veg_classified</span>

<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="va">predictors_lsm</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="va">dist</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"m_lsm_veg_pland"</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">predictors_lsm</span></code></pre></div>
<pre><code><span class="co">## [1] "r50m_lsm_veg_pland"  "r100m_lsm_veg_pland"</span></code></pre>
<p>The function can then be run without the need for providing buffer sizes:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pland</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lsm_perpoint_specified.html">lsm_perpoint_specified</a></span><span class="op">(</span>raster_list <span class="op">=</span> <span class="va">raster_list</span>,
                                predictors_lsm <span class="op">=</span> <span class="va">predictors_lsm</span>,
                                class_names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"veg"</span><span class="op">)</span>,
                                class_values <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>,
                                points <span class="op">=</span> <span class="va">sampling_points</span>,
                                point_id <span class="op">=</span> <span class="st">"point_id"</span>,
                                period <span class="op">=</span> <span class="st">"period"</span>
                                <span class="op">)</span></code></pre></div>
<p>Similarly, the function <code><a href="../reference/osm_perpoint_specified.html">osm_perpoint_specified()</a></code> can be be used to summarise data from the downloaded OSM dataset.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">predictors_osm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/vector.html" class="external-link">vector</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">dist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">100</span><span class="op">)</span>

<span class="kw">for</span><span class="op">(</span><span class="va">i</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq_along</a></span><span class="op">(</span><span class="va">dist</span><span class="op">)</span><span class="op">)</span><span class="op">{</span>
  <span class="va">predictors_osm</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"r"</span>, <span class="va">dist</span><span class="op">[</span><span class="va">i</span><span class="op">]</span>, <span class="st">"m_osm_buildingFA_ratio"</span><span class="op">)</span>
<span class="op">}</span>

<span class="va">predictors_osm</span></code></pre></div>
<pre><code><span class="co">## [1] "r50m_osm_buildingFA_ratio"  "r100m_osm_buildingFA_ratio"</span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">buildingFA_ratio</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/osm_perpoint_specified.html">osm_perpoint_specified</a></span><span class="op">(</span><span class="va">buildings</span>,
                                           <span class="va">predictors_osm</span>,
                                           building_ndsm <span class="op">=</span> <span class="cn">NULL</span>,
                                           building_height <span class="op">=</span> <span class="st">"height"</span>,
                                           building_levels <span class="op">=</span> <span class="st">"levels"</span>,
                                           road_lanes <span class="op">=</span> <span class="st">"lanes"</span>,
                                           <span class="va">sampling_points</span>,
                                           point_id <span class="op">=</span> <span class="st">"point_id"</span>,
                                           period <span class="op">=</span> <span class="st">"period"</span>
                                           <span class="op">)</span></code></pre></div>
<hr>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Copyright © 2022 <a href="https://github.com/kwekiii" class="external-link">Kwek Yan Chong</a>, <a href="https://xp-song.github.io" class="external-link">Xiao Ping Song</a>, <a href="https://github.com/JustinNai" class="external-link">Justin Nai</a>, <a href="https://github.com/edwintyw" class="external-link">Edwin Tan</a>, <a href="https://github.com/hongjhun" class="external-link">Hong Jhun Sim</a> and contributors.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p><em>biodivercity</em> is a part of <a href="https://github.com/ecological-cities" class="external-link"><strong>ecological-cities</strong></a></p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
